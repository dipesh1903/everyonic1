

app.controller("dashboard",["$scope","$rootScope","$http",function(e,t,a){rootUrl=t.site_url,module="dashboard/",a.get(rootUrl+module+"/index").success(function(e){0==e&&window.location.assign("login.html")}),"User"==localStorage.getItem("type")&&$("#user_privileges1").remove(),e.filldata=function(){$("#l_username1").html(localStorage.getItem("staff_name")),$("#l_usertype").html(localStorage.getItem("type")),$("#l_username2").html(localStorage.getItem("username")),localStorage.getItem("type")},localStorage.getItem("username")?e.filldata():a.get(rootUrl+"dashboard/fetch_userdata").success(function(t){console.log(t),"A"==t.type&&(t.type="Administrator"),"U"==t.type&&(t.type="User"),"D"==t.type&&(t.type="Developer"),t.staff_name&&localStorage.setItem("staff_name",t.staff_name),t.username&&localStorage.setItem("username",t.username),t.grade&&localStorage.setItem("grade",t.grade),t.image&&localStorage.setItem("image",t.image),t.emp_id&&localStorage.setItem("emp_id",t.emp_id),t.type&&localStorage.setItem("type",t.type),t.login&&localStorage.setItem("login",t.login),e.filldata()}),a.get(rootUrl+"dashboard/fetch_status").success(function(t){e.status_row=t}),a.get(rootUrl+"dashboard/fetch_month_task").success(function(t){e.$month_rows=t}),a.get(rootUrl+"dashboard/fetch_admin").success(function(t){e.$admin_rows=t}),a.get(rootUrl+"dashboard/fetch_user").success(function(t){e.$users_rows=t}),a.get(rootUrl+"dashboard/fetch_emp").success(function(t){e.$employee_rows=t}),a.get(rootUrl+"dashboard/fetch_today_leave").success(function(t){e.$today_ap_rows=t}),a.get(rootUrl+"dashboard/fetch_today_present").success(function(t){e.$today_present_rows=t}),a.get(rootUrl+"dashboard/fetch_cards_data").success(function(t){e.task_row=t.task_row}),$(".input-daterange").datepicker({}),e.cs={},e.qs={},e.filter_today=function(){e.cs={},e.qs={},e.isLoading=!0;var t=new Date,o=t.getDate();1==o.toString().length&&(o="0"+o);var s=t.getMonth()+1;1==s.toString().length&&(s="0"+s);var r=t.getFullYear();tdate=o+"/"+s+"/"+r,a.get(rootUrl+"hr_follow_up/dash_data?date="+tdate).success(function(t){e.foldatas=t,e.isLoading=!1})},e.filter_today(),e.filter_date=function(){e.isLoading=!0,e.cs={},e.qs.esdate&&e.qs.eedate&&(url=rootUrl+"hr_follow_up/dash_data?join=1&esdate="+e.qs.esdate+"&eedate="+e.qs.eedate,a.get(url).success(function(t){e.foldatas=t,e.rows=t.length,e.isLoading=!1}))},e.filter_date2=function(t){e.isLoading=!0,e.qs={},e.cs.csdate&&e.cs.cedate&&(url=rootUrl+"hr_follow_up/dash_data?csdate="+e.cs.csdate+"&cedate="+e.cs.cedate,a.get(url).success(function(t){e.foldatas=t,e.rows=t.length,e.isLoading=!1}))}}]);


app.controller("change_password",["$scope","$rootScope","$http",function(s,e,n){rootUrl=e.site_url,n.get(rootUrl+module+"/index").success(function(s){0==s?window.location.assign("login.html"):2==s&&(messages("success","Privilege not assigned.",1e3),window.location.assign("index.html"))}),s.filter_new=function(){s.x={}},s.save_data=function(e){$("#submitbtn").attr("disabled",!0),$.ajax({type:"POST",url:rootUrl+"login/change_password_submit",data:$("#changeform1").serialize(),beforeSend:function(){$("#loader").css("display","inline")},success:function(e){"1"==e?(s.filter_new(),messages("success","Success!","Password Changed Successfully",3e3)):"0"==e?messages("warning","Info!","No Data Affected",3e3):messages("danger","Warning!",e,6e3),$("#loader").css("display","none"),$("#submitbtn").attr("disabled",!1)}})}}]);


app.controller("grade",["$scope","$rootScope","$http",function(e,s,a){rootUrl=s.site_url,module="hr_grades/",a.get(rootUrl+module+"/index").success(function(e){0==e?window.location.assign("login.html"):2==e&&(messages("success","Privilege not assigned.",1e3),window.location.assign("index.html"))}),e.loader=function(){a.get(rootUrl+module+"view").success(function(s){e.datadb=s})},e.loader(),e.update_call=function(s){e.x=s},e.filter_new=function(){e.x={}},e.save_data=function(s){$("#submitbtn").attr("disabled",!0),$.ajax({type:"POST",url:rootUrl+module+"save",data:$("#catform").serialize(),beforeSend:function(){$("#loader").css("display","inline")},success:function(s){"1"==s?(e.x={},messages("success","Success!","Grade Saved Successfully",3e3),e.loader()):"0"==s?messages("warning","Info!","No Data Affected",.3):messages("danger","Warning!",s,8e3),$("#loader").css("display","none"),$("#submitbtn").attr("disabled",!1)}})},e.delete_data=function(s){confirm("Deleting Grade may hamper your data associated with it.")&&confirm("Are you Sure to DELETE ??")&&a.get(rootUrl+module+"delete?id="+s).success(function(s){"1"==s?messages("success","Success!","Grade Deleted Successfully",3e3):messages("danger","Warning!",s+", Grade not Deleted",4e3),e.loader()})}}]);



app.controller("hr_designation",["$scope","$rootScope","$http",function(e,s,n){module="hr_designation",rootUrl=s.site_url,n.get(rootUrl+module+"/index").success(function(e){0==e?window.location.assign("login.html"):2==e&&(messages("success","Privilege not assigned.",1e3),window.location.assign("index.html"))}),n.get(rootUrl+"hr_departments/view").success(function(s){e.departments=s}),n.get(rootUrl+"hr_grades/view?st=1").success(function(s){e.grades=s}),e.init=function(){n.get(rootUrl+module+"/view?join=1").success(function(s){e.datadb=s})},e.init(),e.update_call=function(s){e.x=s},e.fetch_salary=function(s){s?(e.salary="loading......",n.get(rootUrl+"hr_grades/view?grade="+s).success(function(s){e.salary=s[0].min_sal+" - "+s[0].max_sal})):e.salary=""},e.filter_new=function(){e.x={},e.salary=""},e.save_data=function(){$("#submitbtn").attr("disabled",!0),$.ajax({type:"POST",url:rootUrl+module+"/save",data:$("#desform").serialize(),beforeSend:function(){$("#loader").css("display","inline")},success:function(s){console.log(s),"1"==s?(messages("success","Success!","Designation Saved Successfully",3e3),e.init(),e.filter_new()):"0"==s?messages("warning","Info!","No Data Affected",3e3):messages("danger","Warning!",s,6e3),$("#loader").css("display","none"),$("#submitbtn").attr("disabled",!1)}})},e.delete_data=function(s){confirm("Deleting Designation may hamper your data associated with it.")&&confirm("Are you Sure to DELETE ??")&&n.get(rootUrl+module+"/delete?dg_id="+s).success(function(s){"1"==s?messages("success","Success!","Designation Deleted Successfully",3e3):messages("danger","Warning!","Designation not Deleted",4e3),e.init()})}}]);


app.controller("pay_setting",["$scope","$rootScope","$http",function(e,s,t){module="hr_pay_setting",rootUrl=s.site_url,t.get(rootUrl+module+"/index").success(function(e){0==e?window.location.assign("login.html"):2==e&&(messages("success","Privilege not assigned.",1e3),window.location.assign("index.html"))}),t.get(rootUrl+"hr_paytype/view").success(function(s){e.paytypes=s}),t.get(rootUrl+"hr_grades/view?st=1").success(function(s){e.grades=s}),e.init=function(){t.get(rootUrl+module+"/view?join=1").success(function(s){e.datadb=s})},e.init(),e.update_call=function(s){e.x=s},e.filter_new=function(){e.x={},e.salary=""},e.save_data=function(){$("#submitbtn").attr("disabled",!0),$.ajax({type:"POST",url:rootUrl+module+"/save",data:$("#desform").serialize(),beforeSend:function(){$("#loader").css("display","inline")},success:function(s){"1"==s?(messages("success","Success!","grade Saved Successfully",3e3),e.init(),e.filter_new()):"0"==s?messages("warning","Info!","No Data Affected",3e3):messages("danger","Warning!",s,6e3),$("#loader").css("display","none"),$("#submitbtn").attr("disabled",!1)}})},e.delete_data=function(s){confirm("Deleting Pay Setting  may hamper your data associated with it.")&&confirm("Are you Sure to DELETE ??")&&t.get(rootUrl+module+"/delete?ps_id="+s).success(function(s){"1"==s?messages("success","Success!","Pay Setting Deleted Successfully",3e3):messages("danger","Warning!","Pay Setting  not Deleted",4e3),e.init()})}}]);



app.controller("hr_leaves",["$scope","$rootScope","$http",function(e,s,t){module="hr_leaves/",rootUrl=s.site_url,t.get(rootUrl+module+"/index").success(function(e){0==e?window.location.assign("login.html"):2==e&&(messages("success","Privilege not assigned.",1e3),window.location.assign("index.html"))}),$("#DOB2").datepicker(),$("#DOB3").datepicker(),t.get(rootUrl+module+"/view?join=1").success(function(s){e.datadb=s}),t.get(rootUrl+"hr_staff_details/view?st=1").success(function(s){e.employees=s}),e.init=function(){t.get(rootUrl+module+"view?join=1").success(function(s){e.datadb=s})},e.x={},e.init(),e.clear_leave_to=function(){$("#DOB3").val("")},e.get_days=function(){e.x.from&&e.x.to&&t.get(rootUrl+"hr_leaves/number_of_working_days?sdate="+e.x.from+"&edate="+e.x.to).success(function(s){e.x.days=parseInt(s)})},e.update_call=function(s){e.x=s},e.filter_new=function(){e.x={},e.salary=""},e.save_data=function(s){$("#submitbtn").attr("disabled",!0),$.ajax({type:"POST",url:rootUrl+module+"/save",data:$("#desform").serialize(),beforeSend:function(){$("#loader").css("display","inline")},success:function(s){console.log(s),"1"==s?(messages("success","Success!","Leave Saved Successfully",3e3),e.init(),e.filter_new()):"0"==s?messages("warning","Info!","No Data Affected",3e3):messages("danger","Warning!",s,6e3),$("#loader").css("display","none"),$("#submitbtn").attr("disabled",!1)}})},e.delete_data=function(s){confirm("Deleting Data may hamper your data associated with it.")&&confirm("Are you Sure to DELETE ??")&&t.get(rootUrl+module+"/delete?el_id="+s).success(function(s){"1"==s?messages("success","Success!","Data Deleted Successfully",3e3):messages("danger","Warning!","Data not Deleted",4e3),e.init()})}}]);



app.controller("paytype",["$scope","$rootScope","$http",function(e,s,t){module="hr_paytype",rootUrl=s.site_url,t.get(rootUrl+module+"/index").success(function(e){0==e?window.location.assign("login.html"):2==e&&(messages("success","Privilege not assigned.",1e3),window.location.assign("index.html"))}),e.init=function(){t.get(rootUrl+module+"/view").success(function(s){e.datadb=s})},e.init(),e.update_call=function(s){e.x=s},e.filter_new=function(){e.x={}},e.save_data=function(){$("#submitbtn").attr("disabled",!0),$.ajax({type:"POST",url:rootUrl+module+"/save",data:$("#ptform").serialize(),beforeSend:function(){$("#loader").css("display","inline")},success:function(s){"1"==s?(messages("success","Success!","Saved Successfully",3e3),e.init(),e.filter_new()):"0"==s?messages("warning","Info!","No Data Affected",3e3):messages("danger","Warning!",s,6e3),$("#loader").css("display","none"),$("#submitbtn").attr("disabled",!1)}})},e.delete_data=function(s){confirm("Deleting Paytype may hamper your data associated with it.")&&confirm("Are you Sure to DELETE ??")&&t.get(rootUrl+module+"/delete?pt_id="+s).success(function(s){"1"==s?messages("success","Success!","Paytype Deleted Successfully",3e3):messages("danger","Warning!","Paytype not Deleted",4e3),e.init()})}}]);


app.controller("medical",["$scope","$rootScope","$http",function(e,i,t){mmodule="hr_medical_details",rootUrl=i.site_url,e.init=function(){t.get(rootUrl+mmodule+"/view").success(function(i){e.datadb=i})},e.init(),e.update_call=function(i){e.m=i,$("#addform").trigger("click")},e.filter_new=function(){e.m={}},e.save_data1=function(i){console.log("medical details"),$("#submitbtn3").attr("disabled",!0),$.ajax({type:"POST",url:rootUrl+mmodule+"/save",data:$("#medicalform").serialize(),beforeSend:function(){$("#loader3").css("display","inline")},success:function(i){"1"==i?(messages("success","Success!","Saved Successfully",3e3),e.init(),e.filter_new(),$("#dc_id").trigger("click")):"0"==i?messages("warning","Info!","No Data Affected",3e3):messages("danger","Warning!",i,6e3),$("#loader3").css("display","none"),$("#submitbtn3").attr("disabled",!1)}})}}]);



app.controller("staffs",["$scope","$rootScope","$http",function(e,t,s){rootUrl=t.site_url,s.get(rootUrl+"hr_staff_details/index").success(function(e){0==e?window.location.assign("login.html"):2==e&&window.location.assign("index.html")}),e.login=localStorage.getItem("login"),e.type=localStorage.getItem("type"),e.qs={},s.get(rootUrl+"hr_grades/view?data=grade").success(function(t){e.grades=t}),e.fetch_destinations=function(t){s.get(rootUrl+"hr_designation/view?join=1&data=d_id,name&grade="+t).success(function(t){e.designations=t}),t?(e.salaryss="loading......",s.get(rootUrl+"hr_grades/view?grade="+t).success(function(t){e.min_sal=t[0].min_sal,e.max_sal=t[0].max_sal})):(e.min_sal=data[0].min_sal,e.max_sal=data[0].max_sal)},e.init=function(){s.get(rootUrl+"hr_staff_details/view").success(function(t){e.datadb=t})},e.init(),e.filter_new=function(){e.qs={},e.init()},e.webcam=function(e){window.open("./app/components/staffs/camera.html?emp_id="+e)},e.filter_data=function(t,i,a){s.get(rootUrl+"hr_staff_details/view?name="+t+"&grade="+i+"&designation="+a).success(function(t){e.datadb=t})},e.x={},e.docdb="",e.workdb="",e.m="",e.d="",e.w="",e.g="",e.eye_check="",e.supdate_call=function(t,i){e.emp_id=t,s.get(rootUrl+"hr_staff_details/view?emp_id="+t).success(function(t){console.log(t),e.x=t[0],e.emp_staff_name=t[0].staff_name}),s.get(rootUrl+"hr_medical_details/view?emp_id="+t).success(function(t){e.m=t[0],t.length>0&&(t[0].eye_problem&&(e.eye_check=1,$("#eye_check").prop("checked",!0)),t[0].disability&&(e.disab_check=1,$("#disab_check").prop("checked",!0)))}),s.get(rootUrl+"hr_document_details/view?emp_id="+t).success(function(t){e.docdb=t}),s.get(rootUrl+"hr_work_experience/view?emp_id="+t).success(function(t){e.workdb=t}),s.get(rootUrl+"guardian_details/view?emp_id="+t).success(function(t){e.gaurdiandb=t}),e.fetch_destinations(i),$("#addform").trigger("click")},e.filter_new1=function(){e.x={},e.emp_id="",e.docdb="",e.workdb="",e.m="",e.d="",e.w=""},e.save_data1=function(t){$("#staffform").ajaxForm({type:"POST",url:rootUrl+"hr_staff_details/save",beforeSend:function(){$("#loader1").css("display","inline")},success:function(t){console.log(t),"0"==t.error?t.emp_id&&(messages("success","Success!","Saved Successfully",3e3),e.init(),e.x.emp_id=t.emp_id,e.emp_id=t.emp_id,$("#m_id").trigger("click")):messages("danger","Warning!",t.msg,6e3),$("#loader1").css("display","none"),$("#submitbtn1").attr("disabled",!1)}})},e.delete_data=function(t){confirm("Deleting Staff Details may hamper your data associated with it.")&&confirm("Are you Sure to DELETE ??")&&s.get(rootUrl+"hr_staff_details/delete?emp_id="+t).success(function(t){"1"==t?messages("success","Success!","Staff Details Deleted Successfully",3e3):messages("danger","Warning!","Staff Details not Deleted. "+t,4e3),e.init()})}}]);


app.controller("documents",["$scope","$rootScope","$http",function(e,s,t){dmodule="hr_document_details",rootUrl=s.site_url,e.imgUrl=s.img_url,e.d={},e.initd=function(){t.get(rootUrl+"hr_document_details/view?emp_id="+e.emp_id).success(function(s){e.docdb=s})},e.update_call=function(s){e.d=s},e.filter_new_doc=function(){e.d={}},e.save_data=function(){$("#documents").ajaxForm({type:"POST",url:rootUrl+dmodule+"/save",beforeSend:function(){$("#submitbtn2").attr("disabled",!0),$("#loader2").css("display","inline")},success:function(s){"1"==s?(messages("success","Success!","Saved Successfully",3e3),e.initd(),e.filter_new_doc(),$("#we_id").trigger("click")):"0"==s?messages("warning","Info!","No Data Affected",3e3):messages("danger","Warning!",s,6e3),$("#loader2").css("display","none"),$("#submitbtn2").attr("disabled",!1)}})},e.delete_data=function(s){confirm("Deleting documents may hamper your data associated with it.")&&confirm("Are you Sure to DELETE ??")&&t.get(rootUrl+dmodule+"/delete?dc_id="+s).success(function(s){"1"==s?messages("success","Success!","documents Deleted Successfully",3e3):messages("danger","Warning!","documents not Deleted",4e3),e.initd()})}}]);


app.controller("work",["$scope","$rootScope","$http",function(e,s,n){wmodule="hr_work_experience",rootUrl=s.site_url,e.init=function(){n.get(rootUrl+wmodule+"/view?emp_id="+e.emp_id).success(function(s){e.workdb=s})},e.update_call=function(s){e.w=s},e.filter_new=function(){e.w={}},e.save_data=function(s){$("#submitbtn").attr("disabled",!0),$.ajax({type:"POST",url:rootUrl+wmodule+"/save",data:$("#workform").serialize(),beforeSend:function(){$("#loader").css("display","inline")},success:function(s){console.log(s),"1"==s?(messages("success","Success!","Saved Successfully",3e3),e.init(),e.filter_new(),$("#gd_id").trigger("click")):"0"==s?messages("warning","Info!","No Data Affected",3e3):messages("danger","Warning!",s,6e3),$("#loader").css("display","none"),$("#submitbtn").attr("disabled",!1)}})},e.delete_data=function(s){confirm("Are you Sure to DELETE ??")&&n.get(rootUrl+wmodule+"/delete?we_id="+s).success(function(s){"1"==s?messages("success","Success!","Work Experience Deleted Successfully",3e3):messages("danger","Warning!","Work Experience not Deleted",4e3),e.init()})}}]);


app.controller("guardian_details",["$scope","$rootScope","$http",function(e,s,t){module="guardian_details",rootUrl=s.site_url,e.initg=function(){t.get(rootUrl+"guardian_details/view?emp_id="+e.emp_id).success(function(s){e.gaurdiandb=s})},e.update_call=function(s){e.g=s},e.filter_new3=function(){e.g={}},e.save_data=function(){$("#guardianform").ajaxForm({type:"POST",url:rootUrl+module+"/save",beforeSend:function(){$("#submitbtn5").attr("disabled",!0),$("#loader5").css("display","inline")},success:function(s){"1"==s?(messages("success","Success!","Saved Successfully",3e3),e.initg(),e.filter_new3()):"0"==s?messages("warning","Info!","No Data Affected",3e3):messages("danger","Warning!",s,6e3),$("#loader5").css("display","none"),$("#submitbtn5").attr("disabled",!1)}})},e.delete_data=function(s){confirm("Deleting documents may hamper your data associated with it.")&&confirm("Are you Sure to DELETE ??")&&t.get(rootUrl+module+"/delete?g_id="+s).success(function(s){"1"==s?messages("success","Success!","documents Deleted Successfully",3e3):messages("danger","Warning!","documents not Deleted",4e3),e.initg()})}}]);



app.controller("hr_id_card",["$scope","$rootScope","$http",function(e,i,o){module="hr_id_card/",rootUrl=i.site_url,o.get(rootUrl+module+"/index").success(function(e){0==e?window.location.assign("login.html"):2==e&&(messages("success","Privilege not assigned.",1e3),window.location.assign("index.html"))}),o.get(rootUrl+"hr_grades/view").success(function(i){e.grades=i}),e.fetch_desig=function(i){o.get(rootUrl+"hr_designation/view?grade="+i+"&join=1").success(function(i){e.designation=i})},e.print=function(){url=rootUrl+"hr_id_card/view?grade="+e.x.grade+"&d_id="+e.x.d_id+"&emp_id="+e.x.emp_id,window.open(url,"_blank","toolbar=yes,scrollbars=yes,resizable=yes,top=10,left=10,width=1000;")},e.x={},e.view_data=function(i){e.myVar=!0,$("#loader").css("display","inline"),o.get(rootUrl+"hr_id_card/view?grade="+e.x.grade+"&d_id="+e.x.d_id+"&emp_id="+e.x.emp_id).success(function(e){$("#loader").css("display","none"),$("#result").html(e)})}}]);


app.controller("leave_setting",["$scope","$rootScope","$http",function(e,s,t){module="hr_leave_setting",rootUrl=s.site_url,t.get(rootUrl+module+"/index").success(function(e){0==e?window.location.assign("login.html"):2==e&&(messages("success","Privilege not assigned.",1e3),window.location.assign("index.html"))}),e.init=function(){t.get(rootUrl+module+"/view").success(function(s){e.datadb=s})},t.get(rootUrl+"hr_grades/view?st=1").success(function(s){e.grades=s}),e.init(),e.update_call=function(s){e.x=s},e.filter_new=function(){e.x={}},e.save_data=function(){$("#submitbtn").attr("disabled",!0),$.ajax({type:"POST",url:rootUrl+module+"/save",data:$("#ptform").serialize(),beforeSend:function(){$("#loader").css("display","inline")},success:function(s){"1"==s?(messages("success","Success!","Saved Successfully",3e3),e.init(),e.filter_new()):"0"==s?messages("warning","Info!","No Data Affected",3e3):messages("danger","Warning!",s,6e3),$("#loader").css("display","none"),$("#submitbtn").attr("disabled",!1)}})},e.delete_data=function(s){confirm("Deleting Leave Setting may hamper your data associated with it.")&&confirm("Are you Sure to DELETE ??")&&(console.log(rootUrl+module+"/delete?id="+s),t.get(rootUrl+module+"/delete?id="+s).success(function(s){"1"==s?messages("success","Success!","Leave Setting Deleted Successfully",3e3):messages("danger","Warning!","Leave Setting not Deleted",4e3),e.loader()}))}}]);


app.controller("hr_category",["$scope","$rootScope","$http",function(e,t,s){module="category/",rootUrl=t.site_url,s.get(rootUrl+module+"/index").success(function(e){0==e?window.location.assign("login.html"):2==e&&(messages("success","Privilege not assigned.",1e3),window.location.assign("index.html"))}),e.x={},e.init=function(){s.get(rootUrl+module+"view_data").success(function(t){e.datadb=t})},e.init(),e.filter_new_cat=function(){e.x={}},e.update_call=function(t){e.x=t,$("#addform").trigger("click")},e.save_data=function(){$("#submitbtn").attr("disabled",!0),$.ajax({type:"POST",url:rootUrl+module+"save_data",data:$("#catform").serialize(),beforeSend:function(){$("#loader").css("display","inline")},success:function(t){"1"==t?(messages("success","Success!","Saved Successfully",3e3),e.init(),$("#viewform").trigger("click")):"0"==t?messages("warning","Info!","No Data Affected",3e3):messages("danger","Warning!",t,6e3),$("#loader").css("display","none"),$("#submitbtn").attr("disabled",!1)}})},e.delete_data=function(t){confirm("Deleting Staff Details may hamper your data associated with it.")&&confirm("Are you Sure to DELETE ??")&&s.get(rootUrl+module+"delete_data?id="+t).success(function(t){"1"==t?messages("success","Success!","Category Details Deleted Successfully",3e3):messages("danger","Warning!","Category Details not Deleted",4e3),e.init()})}}]);


app.controller("user_privileges",["$scope","$rootScope","$http",function(e,s,o){rootUrl=s.site_url,module="user_privileges/",o.get(rootUrl+module+"/index").success(function(e){0==e?window.location.assign("login.html"):2==e&&(messages("success","Privilege not assigned.",1e3),window.location.assign("index.html"))}),$("#progress").hide(),o.get(rootUrl+"hr_staff_details/view?data=username as name,emp_id").success(function(s){e.users=s}),o.get(rootUrl+"user_privileges/view_privileges_json").success(function(s){e.modules=s}),e.reset_all=function(){e.user="",e.user_name="",e.x.status=""},e.fetch_data=function(s){console.log(s),$("#progress").toggle(),o.get(rootUrl+"user_privileges/view_data?id="+s).success(function(s){console.log(s),e.user=s,$("#progress").hide()}),$("#btnsubmit").prop("disabled",!1)},e.update_data=function(s){$("#btnsubmit").text("Please Wait..."),$("#btnsubmit").prop("disabled",!0),$("#uprogress").css("display","inline"),$.ajax({type:"POST",url:rootUrl+"user_privileges/update_data",data:$("#form2").serialize(),beforeSend:function(){$("#progress").toggle()},success:function(s){$("#btnsubmit").text("Save"),$("#btnsubmit").prop("disabled",!1),$("#progress").toggle(),console.log(s),"1"==(s=$.parseJSON(s)).type?messages("danger","Warning!",s.error,8e3):(setTimeout(e.unlockwindow,2e3),messages("success","Success!",s.error,4e3))}})},e.unlockwindow=function(){window.location.reload()},e.update_data_other=function(s){$.ajax({type:"POST",url:"other_privileges/update_data",data:$("#form3").serialize(),beforeSend:function(){$("#webprogress").css("display","inline")},success:function(s){var o=$.parseJSON(s);"1"==o.type?($("#error_msg").html(o.error),$("#error_modal").trigger("click")):(setTimeout(e.unlockwindow,3e3),$("#success_msg").html(o.error),$("#alert_modal").trigger("click")),$("#webprogress").css("display","none")}})}}]);


app.controller("pay_head",["$scope","$rootScope","$http",function(e,t,a){module="hr_payslip",rootUrl=t.site_url,a.get(rootUrl+module+"/index").success(function(e){0==e?window.location.assign("login.html"):2==e&&(messages("success","Privilege not assigned.",1e3),window.location.assign("index.html"))}),e.init=function(){a.get(rootUrl+module+"/view").success(function(t){e.datadb=t})},e.update_call=function(t){e.x=t,e.fetch_details(t.emp_id),e.calc_total(),$("#pay_slip_form1").trigger("click")},e.filter_new=function(){e.x={},e.e={},e.qs={},e.x.value1=0,e.x.value2=0,e.x.net_deduction=0,e.init()},e.filter_new(),a.get(rootUrl+"hr_staff_details/view?st=1&data=staff_name,emp_id").success(function(t){e.employees=t}),a.get(rootUrl+"hr_grades/view?data=grade").success(function(t){e.grades=t}),e.fetch_designations=function(t){a.get(rootUrl+"hr_designation/view?join=1&data=d_id,name&grade="+t).success(function(t){e.designations=t})},e.filter_data=function(t){a.get(rootUrl+"hr_payslip/view?name="+t).success(function(t){e.datadb=t})},e.print=function(e){window.open("./app/components/pay_head/print_payslip.html?pay_id="+e.pay_id)},e.fetch_details=function(t){e.loading=1,a.get(rootUrl+"hr_staff_details/view?emp_id="+t).success(function(t){e.emp_details=t,e.b_sal=parseFloat(t[0].b_salary),e.e.grade=t[0].grade,e.get_pay_names()})},e.calc_days=function(){e.x.month&&e.x.year&&a.get(rootUrl+"hr_attendance/get_day/"+e.x.emp_id+"/"+e.x.month+"/20"+e.x.year+"/P").success(function(t){e.x.present=t,a.get(rootUrl+"hr_attendance/get_day/"+e.x.emp_id+"/"+e.x.month+"/20"+e.x.year+"/A").success(function(t){e.x.absent=t,e.x.work_days=parseFloat(e.x.absent)+parseFloat(e.x.present),e.calc_total()})})},e.get_pay_names=function(){a.get(rootUrl+"hr_pay_setting/view?join=1&grade="+e.e.grade).success(function(t){e.pay_names=[],e.paysettings=t,setTimeout(function(){$(t).each(function(a,s){var n=parseFloat(s.per),o=e.b_sal*n/100;e.pay_names.push(s),o<s.min_amt?$("#pay"+s.pt_id).val(s.min_amt):o>s.max_amt?$("#pay"+s.pt_id).val(s.max_amt):$("#pay"+s.pt_id).val(o),a==t.length-1&&(e.loading=0)})},1e3)})},e.calc_total=function(){""==e.x.value1&&(e.x.value1=0),""==e.x.value2&&(e.x.value2=0),""==e.x.net_deduction&&(e.x.net_deduction=0),""==e.x.absent_deduction&&(e.x.absent_deduction=0),e.minustotal=0,e.plustotal=0;var t=parseFloat(e.b_sal)/parseFloat(e.x.work_days);e.x.absent_deduction=parseFloat(e.x.absent)*parseFloat(t).toFixed(2),$(e.pay_names).each(function(t,a){""==$("#pay"+a.pt_id).val()&&$("#pay"+a.pt_id).val(0),1==a.type?e.minustotal=e.minustotal+parseFloat($("#pay"+a.pt_id).val()):e.plustotal=e.plustotal+parseFloat($("#pay"+a.pt_id).val()),t==e.pay_names.length-1&&(e.gminustotal=e.minustotal+parseFloat(e.x.absent_deduction)+parseFloat(e.x.value2),e.gplustotal=e.plustotal+parseFloat(e.x.value1),e.total=e.b_sal+parseFloat(e.gplustotal)-parseFloat(e.gminustotal))})},e.save_data=function(){$("#submitbtn").attr("disabled",!0),$.ajax({type:"POST",url:rootUrl+module+"/save",data:$("#pay_slip").serialize(),beforeSend:function(){$("#loader").css("display","inline")},success:function(t){console.log(t),"1"==t?(messages("success","Success!","Saved Successfully",3e3),e.init(),e.filter_new(),e.total=0,$("#pay_slip_view1").trigger("click")):"0"==t?messages("warning","Info!","No Data Affected",3e3):messages("danger","Warning!",t,6e3),$("#loader").css("display","none"),$("#submitbtn").attr("disabled",!1)}})},e.delete_data=function(t){confirm("Deleting Leave Setting may hamper your data associated with it.")&&confirm("Are you Sure to DELETE ??")&&a.get(rootUrl+module+"/delete?id="+t).success(function(t){console.log(t),"0"==t?messages("danger","Warning!","Pay Slip not Deleted",4e3):(messages("success","Success!","Pay Slip Deleted Successfully",3e3),e.init(),e.filter_new())})}}]);


app.controller("attendance",["$scope","$rootScope","$http",function(e,t,a){module="hr_attendance",rootUrl=t.site_url,e.x={},$("#DOB1").datepicker(),e.filter_attend=function(){e.x.date="",e.x.grade="",e.employees=""},a.get(rootUrl+"hr_grades/view?st=1").success(function(t){e.grades=t}),e.filter_data=function(t){grade=t?"&grade="+t:"",a.get(rootUrl+"hr_staff_details/view?data=emp_id,staff_name,grade"+grade).success(function(t){e.employees=t,a.get(rootUrl+module+"/get_attendance?date="+e.x.date+grade).success(function(t){$.each(t.list,function(e,t){1==t.status&&$("#ch"+t.emp_id).prop("checked",!0),t.time_in&&($("#time"+t.emp_id).val(t.time_in),$("#id"+t.emp_id).val(t.id))}),e.da=t.list})})},e.save_data=function(){$.ajax({type:"POST",url:rootUrl+module+"/save",data:$("#attendanceform1").serialize(),beforeSend:function(){$("#submitbtn1").attr("disabled",!0),$("#loader1").css("display","inline")},success:function(t){"1"==t?($("#clearbtn").trigger("click"),messages("success","Success!","Attendance Saved Successfully",3e3)):"0"==t?messages("warning","Info!","Failed to save the attendance",3e3):messages("danger","Warning!",t,6e3),$("#loader1").css("display","none"),$("#submitbtn1").attr("disabled",!1),e.filter_attend()}})}}]);


app.controller("follow_up",["$scope","$rootScope","$http",function(e,t,a){module="hr_follow_up/",rootUrl=t.site_url,a.get(rootUrl+module+"/index").success(function(e){0==e?window.location.assign("login.html"):2==e&&window.location.assign("index.html")}),e.init=function(){a.get(rootUrl+module+"view_data").success(function(t){e.datadb=t})},e.init(),e.x={},e.typehead_load=function(){$(".typeahead").typeahead("destroy"),a.get(rootUrl+module+"view_typehead").success(function(e){$(".typeahead").typeahead({source:e,autoSelect:!0})})},e.typehead_load(),e.filter_new=function(){e.x={},e.init()},e.save_data=function(){confirm("Save the followup")&&($("#submitbtn").attr("disabled",!0),$.ajax({type:"POST",url:rootUrl+module+"save_data",data:$("#folform1").serialize(),beforeSend:function(){$("#loader").css("display","inline")},success:function(t){"1"==t?(messages("success","Success!","Saved Successfully",3e3),e.filter_new(),e.typehead_load(),e.init()):"0"==t?messages("warning","Info!","No Data Affected",3e3):messages("danger","Warning!",t,6e3),$("#loader").css("display","none"),$("#submitbtn").attr("disabled",!1)}}))},e.delete_data=function(t){confirm("Deleting Staff Details may hamper your data associated with it.")&&confirm("Are you Sure to DELETE ??")&&a.get(rootUrl+module+"delete_data?id="+t).success(function(t){"1"==t?messages("success","Success!","Category Details Deleted Successfully",3e3):messages("danger","Warning!","Category Details not Deleted",4e3),e.init()})}}]);


app.controller("task_assigner",["$scope","$rootScope","$http",function(e,s,t){rootUrl=s.site_url,module="task_assigner/",t.get(rootUrl+module+"/index").success(function(e){0==e?window.location.assign("login.html"):2==e&&(messages("success","Privilege not assigned.",1e3),window.location.assign("index.html"))}),e.typehead_load=function(){$(".typeahead").typeahead("destroy"),t.get("task_assigner/view_typehead").success(function(e){$(".typeahead").typeahead({source:e,autoSelect:!0})})},t.get(rootUrl+"hr_staff_details/view?data=emp_id,staff_name").success(function(s){e.employees=s}),e.filter_employee=function(s){t.get(rootUrl+"task_assigner/view_data?emp_id="+s).success(function(s){e.datadb=s})},e.update_call=function(s){e.x=s},e.filter_new=function(){t.get(rootUrl+"task_assigner/view_data").success(function(s){e.datadb=s}),e.x={},e.typehead_load()},e.filter_new(),e.save_data=function(s){$("#submitbtn").attr("disabled",!0),$.ajax({type:"POST",url:rootUrl+"task_assigner/save_data",data:$("#form1").serialize(),beforeSend:function(){$("#webprogress").css("display","inline")},success:function(s){"1"==s?(messages("success","Success!","Task Assiged Successfully",4e3),e.filter_new()):"0"==s?messages("warning","Info!","No Data Affected",1e4):messages("warning","Warning!",s,1e4),$("#webprogress").css("display","none")}}),$("#submitbtn").attr("disabled",!1)},e.delete_data=function(s){confirm("Deleting task_assigners may hamper your data associated with it. You will loose the data related with this task_assigner.")&&confirm("Are you Sure to DELETE ??")&&t.get(rootUrl+"task_assigner/delete_data?id="+s).success(function(s){"1"==s?(messages("success","Success!","Assigned task Deleted Successfully",4e3),e.filter_new()):messages("danger","Warning!","Assigned task not Deleted",1e4)})}}]);


app.controller("task",["$scope","$rootScope","$http",function(t,e,s){rootUrl=e.site_url,module="task/",s.get(rootUrl+module+"/index").success(function(t){0==t?window.location.assign("login.html"):2==t&&(messages("success","Privilege not assigned.",1e3),window.location.assign("index.html"))}),t.x={},$("#DOB1").datepicker("now"),$("#DOB2").datepicker("now"),t.local=localStorage.getItem("type"),console.log(localStorage.getItem("type")),s.get(rootUrl+"hr_staff_details/view?data=emp_id,staff_name").success(function(e){t.employees=e}),s.get(rootUrl+"task_assigner/view_data").success(function(e){t.tasks=e}),t.loader=function(){s.get(rootUrl+"task/view_data").success(function(e){t.datadb=e})},t.loader(),t.page_refresh=function(){s.get(rootUrl+"task/view_data?status=0").success(function(e){e.length>0&&"0"==e[0].status&&(t.x.tstatus=e[0].status,t.x.task_id=e[0].task_id,t.x.start_date=e[0].start_date,t.x.start_time=e[0].start_time,t.x.emp_id=e[0].emp_id,t.x.assign_id=e[0].assign_id,t.x.comment=e[0].comment,t.timer(e[0].start_date,e[0].start_time,"0"))})},t.page_refresh(),t.fetch_task=function(e){s.get(rootUrl+"task_assigner/view_data?emp_id="+e).success(function(e){t.tasks=e})},s.get(rootUrl+"task/check_timer_on").success(function(e){"0"!=e&&(t.x=e[0],t.timer(e[0].start_date,e[0].start_time,0))}),t.timer=function(e,a,i){t.mytimer=setInterval(function(){s.get(rootUrl+"task/timer?sdate="+e+"&stime="+a).success(function(t){$("#txt").html(t)})},1e3)},t.update_call=function(e){clearInterval(t.mytimer),s.get(rootUrl+"task_assigner/view_data?emp_id="+e.emp_id).success(function(s){if(t.tasks=s,t.x=e,"1"==e.status)$("#txt").html(e.duration);else{moment(new Date).format("DD/MM/YYYY");t.timer(e.start_date,e.start_time,"0")}})},t.filter_new=function(){t.x={},clearInterval(t.mytimer),$("#txt").html("")},t.save_data=function(e){$("#submitbtn").attr("disabled",!0),$.ajax({type:"POST",url:rootUrl+"task/save_data",data:$("#form1").serialize(),beforeSend:function(){$("#loader").css("display","inline")},success:function(a){$("#loader").css("display","none"),$("#submitbtn").attr("disabled",!1),"0"==a.error?a.task_id?(messages("success","Success!","Task Saved Successfully",3e3),s.get(rootUrl+"task/check_timer_on?task_id="+a.task_id).success(function(i){"0"!=i&&(t.timer(i[0].start_date,i[0].start_time,0),s.get(rootUrl+"task/view_data?task_id="+a.task_id).success(function(s){t.x.tstatus=s[0].status,t.x.task_id=s[0].task_id,t.x.start_date=s[0].start_date,t.x.start_time=s[0].start_time,t.x=e}),s.get(rootUrl+"task/view_data").success(function(e){t.datadb=e}))})):(clearInterval(t.mytimer),$("#txt").html(" "),s.get(rootUrl+"task/view_data").success(function(e){t.datadb=e}),messages("success","Success!","Task Updated Successfully",3e3),t.x={}):messages("danger","Warning!",a.msg,6e3)}})},t.delete_data=function(e){confirm("Deleting Grade may hamper your data associated with it.")&&confirm("Are you Sure to DELETE ??")&&s.get(rootUrl+"task/delete_data?id="+e).success(function(e){"1"==e?messages("success","Success!","Task Deleted Successfully",3e3):messages("danger","Warning!","Task not Deleted You cannot delete the task. Please contact admin",4e3),t.loader()})}}]);


app.controller("task_details",["$scope","$rootScope","$http",function(e,s,t){rootUrl=s.site_url,module="task_details/",t.get(rootUrl+module+"/index").success(function(e){0==e?window.location.assign("login.html"):2==e&&(messages("success","Privilege not assigned.",1e3),window.location.assign("index.html"))}),t.get(rootUrl+"hr_staff_details/view").success(function(s){console.log(s),e.employees=s}),e.filter_new=function(){t.get(rootUrl+"task_details/view_data").success(function(s){e.datadb=s}),e.x={}},e.filter_new(),e.filter_employee=function(s){t.get(rootUrl+"task_assigner/view_data?emp_id="+s).success(function(s){e.tasks=s})},e.update_call=function(s){console.log(s),e.x=s},e.options={height:150},e.save_data=function(s){$("#submitbtn").attr("disabled",!0),$.ajax({type:"POST",url:rootUrl+"task_details/save_data",data:$("#form1").serialize(),beforeSend:function(){$("#webprogress").css("display","inline")},success:function(s){"1"==s?(messages("success","Success!","Task Assiged Successfully",4e3),e.filter_new()):"0"==s?messages("warning","Info!","No Data Affected",1e4):messages("warning","Warning!",s,1e4),$("#webprogress").css("display","none")}}),$("#submitbtn").attr("disabled",!1)},e.delete_data=function(s){confirm("Deleting task_assigners may hamper your data associated with it. You will loose the data related with this task_assigner.")&&confirm("Are you Sure to DELETE ??")&&t.get(rootUrl+"task_details/delete_data?id="+s).success(function(s){"1"==s?(messages("success","Success!","Assigned task Deleted Successfully",4e3),e.filter_new()):messages("danger","Warning!","Assigned task not Deleted",1e4)})}}]);


app.controller("hr_email1",["$scope","$rootScope","$http",function(e,s,t){module="hr_email1/",rootUrl=s.site_url,t.get(rootUrl+module+"/index").success(function(e){0==e?window.location.assign("login.html"):2==e&&(messages("success","Privilege not assigned.",1e3),window.location.assign("index.html"))}),e.init=function(){t.get(rootUrl+"hr_email1/view").success(function(s){e.datadb=s})},e.init(),t.get(rootUrl+"category/view_data").success(function(s){e.categories=s}),e.update_call=function(s){e.x=s},e.filter_new=function(){e.x={}},e.save_data=function(){$("#submitbtn").attr("disabled",!0),$.ajax({type:"POST",url:rootUrl+module+"save",data:$("#mailform").serialize(),beforeSend:function(){$("#loader").css("display","inline")},success:function(s){"1"==s?(messages("success","Success!","Saved Successfully",3e3),e.filter_new(),e.init()):"0"==s?messages("warning","Info!","No Data Affected",3e3):messages("danger","Warning!",s,6e3),$("#loader").css("display","none"),$("#submitbtn").attr("disabled",!1)}})},e.delete_data=function(s){confirm("Deleting Staff Details may hamper your data associated with it.")&&confirm("Are you Sure to DELETE ??")&&(t.get(rootUrl+module+"delete?id="+s).success(function(e){"1"==e?messages("success","Success!","Email Details Deleted Successfully",3e3):messages("danger","Warning!","Email Details not Deleted",4e3)}),e.init())}}]);


app.controller("hr_email2",["$scope","$rootScope","$http",function(e,s,t){module="hr_email2/",rootUrl=s.site_url,t.get(rootUrl+module+"/index").success(function(e){0==e?window.location.assign("login.html"):2==e&&(messages("success","Privilege not assigned.",1e3),window.location.assign("index.html"))}),e.init=function(){t.get(rootUrl+"hr_email2/view").success(function(s){e.datadb=s})},e.init(),t.get(rootUrl+"category/view_data").success(function(s){e.categories=s}),e.update_call=function(s){e.x=s},e.filter_new=function(){e.x={}},e.save_data=function(){$("#submitbtn").attr("disabled",!0),$.ajax({type:"POST",url:rootUrl+module+"save",data:$("#admin_email_form").serialize(),beforeSend:function(){$("#loader").css("display","inline")},success:function(s){"1"==s?(messages("success","Success!","Saved Successfully",3e3),e.filter_new(),e.init()):"0"==s?messages("warning","Info!","No Data Affected",3e3):messages("danger","Warning!",s,6e3),$("#loader").css("display","none"),$("#submitbtn").attr("disabled",!1)}})},e.delete_data=function(s){confirm("Deleting Staff Details may hamper your data associated with it.")&&confirm("Are you Sure to DELETE ??")&&(t.get(rootUrl+module+"delete?id="+s).success(function(e){"1"==e?messages("success","Success!","Email Details Deleted Successfully",3e3):messages("danger","Warning!","Email Details not Deleted",4e3)}),e.init())}}]);


app.controller("hr_email_template",["$scope","$rootScope","$http",function(e,t,s){module="hr_email_template/",rootUrl=t.site_url,s.get(rootUrl+module+"/index").success(function(e){0==e?window.location.assign("login.html"):2==e&&(messages("success","Privilege not assigned.",1e3),window.location.assign("index.html"))}),e.init=function(){s.get(rootUrl+"hr_email_template/view").success(function(t){e.datadb=t})},e.init(),e.x={},s.get(rootUrl+"category/view_data").success(function(t){e.categories=t}),s.get(rootUrl+"hr_header_footer/view?type=H").success(function(t){e.headers=t}),s.get(rootUrl+"hr_header_footer/view?type=F").success(function(t){e.footers=t}),e.update_call=function(t){$("#addform").trigger("click"),e.x=t},e.filter_new=function(){e.x={}},e.save_data=function(){$("#submitbtn").attr("disabled",!0),$.ajax({type:"POST",url:rootUrl+module+"save",data:$("#et_form").serialize(),beforeSend:function(){$("#loader").css("display","inline")},success:function(t){"1"==t?(messages("success","Success!","Saved Successfully",3e3),e.filter_new(),e.init()):"0"==t?messages("warning","Info!","No Data Affected",3e3):messages("danger","Warning!",t,6e3),$("#loader").css("display","none"),$("#submitbtn").attr("disabled",!1)}})},e.delete_data=function(t){confirm("Deleting Staff Details may hamper your data associated with it.")&&confirm("Are you Sure to DELETE ??")&&(s.get(rootUrl+module+"delete?id="+t).success(function(e){"1"==e?messages("success","Success!","Email Details Deleted Successfully",3e3):messages("danger","Warning!","Email Details not Deleted",4e3)}),e.init())}}]);


app.controller("hr_header_footer",["$scope","$rootScope","$http",function(e,t,s){module="hr_header_footer/",rootUrl=t.site_url,s.get(rootUrl+module+"/index").success(function(e){0==e?window.location.assign("login.html"):2==e&&(messages("success","Privilege not assigned.",1e3),window.location.assign("index.html"))}),e.init=function(){s.get(rootUrl+"hr_header_footer/view").success(function(t){e.datadb=t})},e.init(),e.x={},e.update_call=function(t){$("#addform").trigger("click"),e.x=t},e.options={height:150,toolbar:[["style",["undo","redo","style","bold","italic","underline"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ol","ul","paragraph","height"]],["font",["strikethrough","superscript","subscript"]],["table",["table"]],["insert",["link","video","hr","picture"]],["view",["fullscreen","codeview","help"]]]},e.filter_new=function(){e.x={}},e.save_data=function(){$("#submitbtn").attr("disabled",!0),$.ajax({type:"POST",url:rootUrl+module+"save",data:$("#head_foot_form").serialize(),beforeSend:function(){$("#loader").css("display","inline")},success:function(t){"1"==t?(messages("success","Success!","Saved Successfully",3e3),$("#viewform").trigger("click"),e.filter_new(),e.init()):"0"==t?messages("warning","Info!","No Data Affected",3e3):messages("danger","Warning!",t,6e3),$("#loader").css("display","none"),$("#submitbtn").attr("disabled",!1)}})},e.delete_data=function(t){confirm("Deleting Staff Details may hamper your data associated with it.")&&confirm("Are you Sure to DELETE ??")&&(s.get(rootUrl+module+"delete?id="+t).success(function(e){"1"==e?messages("success","Success!","Email Details Deleted Successfully",3e3):messages("danger","Warning!","Email Details not Deleted",4e3)}),e.init())}}]);


app.controller("hr_email_main",["$scope","$rootScope","$http",function(e,t,i){module="hr_email_main/",rootUrl=t.site_url,i.get(rootUrl+module+"/index").success(function(e){0==e?window.location.assign("login.html"):2==e&&(messages("success","Privilege not assigned.",1e3),window.location.assign("index.html"))}),e.init=function(){i.get(rootUrl+"hr_email_main/view").success(function(t){e.datadb=t})},e.init(),e.x={},i.get(rootUrl+"hr_email1/view").success(function(t){e.contacts=t}),$("#checkedAll").change(function(){this.checked?$(".checkSingle").each(function(){this.checked=!0}):$(".checkSingle").each(function(){this.checked=!1})}),e.update_call=function(t){$("#addform").trigger("click"),e.x=t},e.options={height:150,toolbar:[["style",["undo","redo","style","bold","italic","underline"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ol","ul","paragraph","height"]],["font",["strikethrough","superscript","subscript"]],["table",["table"]],["insert",["link","video","hr","picture"]],["view",["fullscreen","codeview","help"]]]},e.filter_new=function(){e.x={}},e.save_data=function(){$("#submitbtn").attr("disabled",!0),$.ajax({type:"POST",url:rootUrl+module+"save",data:$("#head_foot_form").serialize(),beforeSend:function(){$("#loader").css("display","inline")},success:function(t){"1"==t?(messages("success","Success!","Saved Successfully",3e3),$("#viewform").trigger("click"),e.filter_new(),e.init()):"0"==t?messages("warning","Info!","No Data Affected",3e3):messages("danger","Warning!",t,6e3),$("#loader").css("display","none"),$("#submitbtn").attr("disabled",!1)}})},e.delete_data=function(t){confirm("Deleting Staff Details may hamper your data associated with it.")&&confirm("Are you Sure to DELETE ??")&&(i.get(rootUrl+module+"delete?id="+t).success(function(e){"1"==e?messages("success","Success!","Email Details Deleted Successfully",3e3):messages("danger","Warning!","Email Details not Deleted",4e3)}),e.init())}}]);


app.controller("journals",["$scope","$rootScope","$http",function(e,s,t){module="hr_journals/",rootUrl=s.site_url,t.get(rootUrl+module+"/index").success(function(e){0==e?window.location.assign("login.html"):2==e&&(messages("success","Privilege not assigned.",1e3),window.location.assign("index.html"))}),e.init=function(){t.get(rootUrl+module+"view_data").success(function(s){e.datadb=s})},e.init(),t.get(rootUrl+"category/view_data").success(function(s){e.category=s}),e.d={},e.update_call=function(s){e.d=s,$("#addform").trigger("click")},e.save_data=function(){$("#submitbtn").attr("disabled",!0),$.ajax({type:"POST",url:rootUrl+module+"save",data:$("#form1").serialize(),beforeSend:function(){$("#loader").css("display","inline")},success:function(s){"1"==s?(messages("success","Success!","Saved Successfully",3e3),e.init(),$("#viewform").trigger("click")):"0"==s?messages("warning","Info!","No Data Affected",3e3):messages("danger","Warning!",s,6e3),$("#loader").css("display","none"),$("#submitbtn").attr("disabled",!1)}})},e.delete_data=function(s){confirm("Deleting Staff Details may hamper your data associated with it.")&&confirm("Are you Sure to DELETE ??")&&t.get(rootUrl+module+"delete_data?id="+s).success(function(s){"1"==s?messages("success","Success!","Category Details Deleted Successfully",3e3):messages("danger","Warning!","Category Details not Deleted",4e3),e.init()})}}]);


app.controller("report",["$scope","$rootScope","$http",function(e,t,s){rootUrl=t.site_url,module="hr_report/",s.get(rootUrl+module+"/index").success(function(e){0==e?window.location.assign("login.html"):2==e&&(messages("success","Privilege not assigned.",1e3),window.location.assign("index.html"))}),$("#DOB1").datepicker(),$("#DOB2").datepicker(),$("#DOB3").datepicker(),$("#DOB4").datepicker(),$("#DOB5").datepicker(),$("#DOB6").datepicker(),$("#DOB7").datepicker(),$("#DOB8").datepicker(),$("#DOB9").datepicker(),$("#DOB10").datepicker(),$("#DOB11").datepicker(),$("#DOB12").datepicker(),e.x={},e.label={},e.resetdf=function(){e.x.grade="ALL",e.x.leave_type="ALL",e.x.emp_id="ALL",e.x.status="ALL",e.x.cat_id="ALL",e.x.tran_type="ALL",e.x.showlabel="1",e.x.title="ALL",e.x.designation="ALL",e.x.city="",e.x.state="",e.x.min_salary="0",e.x.max_salary="0",e.x.task_title="ALL"},e.resetdf(),s.get(rootUrl+"hr_grades/view").success(function(t){e.grades=t}),s.get(rootUrl+"hr_departments/view").success(function(t){e.departments=t}),s.get(rootUrl+"hr_follow_up/view_data").success(function(t){e.tasks=t}),s.get(rootUrl+"hr_staff_details/view").success(function(t){e.employees=t}),e.fetch_employee=function(t){s.get(rootUrl+"hr_staff_details/view?grade="+t).success(function(t){e.employees=t})},e.fetch_head_list=function(t){"OW"==t&&s.get(rootUrl+"category/view_data?journal=1&data=cat_id,name").success(function(t){e.categories=t}),"EM"==t&&s.get(rootUrl+"hr_staff_details/view?data=emp_id,name").success(function(t){e.employees=t})},e.document_details=function(e){console.log(e)},e.salarywise_filter=function(t){$.ajax({type:"POST",url:rootUrl+"hr_report/get_salary_report",data:$("#salaryform1").serialize(),beforeSend:function(){$("#webprogress").css("display","inline")},success:function(t){$("#webprogress").css("display","none"),$("#result1").html(t),e.label=e.x.day_date,e.$digest()}})},e.daywise_filter=function(t){$.ajax({type:"POST",url:rootUrl+"hr_report/get_daily",data:$("#dayform1").serialize(),beforeSend:function(){$("#webprogress").css("display","inline")},success:function(t){$("#webprogress").css("display","none"),$("#result1").html(t),e.label=e.x.day_date,e.$digest()}})},e.monthwise_filter=function(t){$("#header").css("display","inline"),$.ajax({type:"POST",url:rootUrl+"hr_report/get_daily",data:$("#monthform1").serialize(),beforeSend:function(){$("#webprogress").css("display","inline")},success:function(t){$("#webprogress").css("display","none"),$("#result1").html(t),e.label=e.x.month,e.$digest()}})},e.rangewise_filter=function(t){$("#header").css("display","inline"),$.ajax({type:"POST",url:rootUrl+"hr_report/get_daily",data:$("#rangeform1").serialize(),beforeSend:function(){$("#webprogress").css("display","inline")},success:function(t){$("#webprogress").css("display","none"),$("#result1").html(t),e.label=e.x.sdate+" to "+e.x.edate,e.$digest()}})}}]);


app.controller("help",["$scope","$rootScope","$http",function(o,e,s){module="help/",rootUrl=e.site_url,s.get(rootUrl+module+"/index").success(function(o){0==o?window.location.assign("login.html"):2==o&&(messages("success","Privilege not assigned.",1e3),window.location.assign("index.html"))})}]);


app.controller("logs",["$scope","$rootScope","$http",function(o,t,l){rootUrl=t.site_url,l.get(rootUrl+"logs/view_data").success(function(t){console.log(t),o.datadb=t}),o.fetch_log=function(o){$(".modal-body").html(""),$("#modalbtn").trigger("click"),$("#myModalLabel").html("Log Details"),$.get(rootUrl+"logs/get_object?id="+o,function(o,t){$(".modal-body").html(o)})}}]);